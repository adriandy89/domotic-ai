# ============================================
# DATABASE CONFIGURATION
# ============================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://user:password@localhost:5432/domotic_ai

# Environment (development, production, staging)
NODE_ENV=development

# ============================================
# APPLICATION CONFIGURATION
# ============================================
# Port where the API will run
API_PORT=3017
COOKIE_DOMAIN=.domotic-ai.com

# ============================================
# SESSION CONFIGURATION
# ============================================
# Session secret key - MUST be a strong random string (min 32 characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# IMPORTANT: Keep this secret and never commit it to version control
SESSION_SECRET=

# ============================================
# GOOGLE OAUTH CONFIGURATION
# ============================================
# How to get Google OAuth credentials:
# 1. Go to https://console.cloud.google.com/
# 2. Create a new project or select an existing one
# 3. Navigate to "APIs & Services" → "Credentials"
# 4. Click "Create Credentials" → "OAuth 2.0 Client ID"
# 5. Configure OAuth consent screen if not done already
# 6. Set Application type to "Web application"
# 7. Add authorized redirect URI: http://localhost:3017/auth/google/callback
#    (Change to your production URL in production)
# 8. Copy the Client ID and Client Secret

GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=http://localhost:3017/auth/google/callback

# ============================================
# MICROSOFT OAUTH CONFIGURATION
# ============================================
# How to get Microsoft OAuth credentials:
# 1. Go to https://entra.microsoft.com/ (Microsoft Entra ID Portal)
# 2. Navigate to "App registrations" → "New registration"
# 3. Enter application name
# 4. Set redirect URI: http://localhost:3017/auth/microsoft/callback
#    (Change to your production URL in production)
# 5. Note the "Application (client) ID" and "Directory (tenant) ID"
# 6. Go to "Certificates & secrets" → Create new client secret
# 7. Add API permissions: User.Read, openid, profile

MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
# Tenant ID: Use 'common' for multi-tenant, or your specific tenant ID
MICROSOFT_TENANT_ID=common
MICROSOFT_CALLBACK_URL=http://localhost:3017/auth/microsoft/callback

# ============================================
# GITHUB OAUTH CONFIGURATION
# ============================================
# How to get GitHub OAuth credentials:
# 1. Go to https://github.com/settings/developers
# 2. Click "New OAuth App"
# 3. Fill in application details:
#    - Application name: Your app name
#    - Homepage URL: http://localhost:3017 (or your domain)
#    - Authorization callback URL: http://localhost:3017/auth/github/callback
#      (Change to your production URL in production)
# 4. Click "Register application"
# 5. Note the Client ID and generate a Client Secret

GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_CALLBACK_URL=http://localhost:3017/auth/github/callback

# ============================================
# REDIS CONFIGURATION
# ============================================
# REDIS_URL=redis://redis:6379
REDIS_URL=redis://localhost:6379
# REDIS_HOST=redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_CACHE_TTL=86400000
REDIS_PASSWORD=Redis_p6379

# ============================================
# NATS CONFIGURATION
# ============================================
NATS_URL=nats://nats:4222
NATS_USER=defaultUser
NATS_PASS=defaultPass


# ============================================
# PRODUCTION NOTES
# ============================================
# When deploying to production:
# 1. Change all callback URLs to your production domain (https://yourdomain.com/auth/...)
# 2. Update OAuth provider settings with production URLs
# 3. Set NODE_ENV=production
# 4. Use a strong SESSION_SECRET (different from development)
# 5. Ensure DATABASE_URL points to production database
# 6. Enable HTTPS (required for secure cookies)
